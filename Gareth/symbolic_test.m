%%% I will use this program to convert between the process matrix inputs to
%%% the matrix entries necessary for the chi matrix.

syms a1 b1 c1 d1 e1 f1 g1 h1 i1 j1 k1 l1 m1 n1 o1 p1
syms a2 b2 c2 d2 e2 f2 g2 h2 i2 j2 k2 l2 m2 n2 o2 p2

mat1 = [a1;b1;c1;d1;e1;f1;g1;h1;i1;j1;k1;l1;m1;n1;o1;p1];
mat2 = [a2;b2;c2;d2;e2;f2;g2;h2;i2;j2;k2;l2;m2;n2;o2;p2];

a = 0.5*(1+1i);
conversion = [1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;...
-a -a 1 1i 0 0 0 0 0 0 0 0 0 0 0 0;...
-a 0 0 0 -a 0 0 0 1 0 0 0 1i 0 0 0;...
1i/2 1i/2 -a a' 1i/2 1i/2 -a a' -a -a 1 1i a' a' 1i -1;...
-a' -a' 1 -1i 0 0 0 0 0 0 0 0 0 0 0 0;...
0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0;...
1/2 1/2 -a -a' 1/2 1/2 -a -a' -a' -a' 1 -1i -a -a 1i 1;...
0 -a 0 0 0 -a 0 0 0 1 0 0 0 1i 0 0;...
-a' 0 0 0 -a' 0 0 0 1 0 0 0 -1i 0 0 0;...
1/2 1/2 -a' -a 1/2 1/2 -a' -a -a -a 1 1i -a' -a' -1i 1;...
0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0;...
0 0 0 -a -a 1 1i 0 0 0 0 0 0 0 0 0;...
-1i/2 -1i/2 -a' a -1i/2 -1i/2 -a' a -a' -a' 1 -1i a a -1i -1;...
0 -a' 0 0 0 -a' 0 0 0 1 0 0 0 -1i 0 0;...
0 0 0 0 -a' -a' 1 -1i 0 0 0 0 0 0 0 0;...
0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0];

%a1 = conversion*mat2;

for x=1:16
    mat1(x) = conversion(x,:) * mat2; 
end